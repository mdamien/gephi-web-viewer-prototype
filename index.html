<script src="static/jquery.js" ></script>
<script src="static/sigma.js" ></script>
<script src="static/plugins.js" ></script>
<div>
  <style>
    #graph-container {
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      position: absolute;
      background: #eee;
    }
  </style>
  <div id="graph-container"></div>
</div>
<script>

function parseJSON(data) {
  var g = {
    nodes: [],
    edges: []
  };

  for (i=0; i<data.nodes.length; i++){
    var node = data.nodes[i];
    // s.addNode(id,data.nodes[i]);

    g.nodes.push({
      id: node.id,
      label: node.label,
      x: node.x,
      y: node.y,
      size: node.size + 3,
      color: node.color,
    });
  }

  for(j=0; j<data.edges.length; j++){
    var edge = data.edges[j];

    g.edges.push({
      id: edge.id,
      source: edge.source,
      target: edge.target,
      // size: edge.size,
      color: edge.color,
      type: 'curve',
    });
  }

  return g;
}

$.getJSON('data.json', function (data) {
  var g = parseJSON(data);

  var s = new sigma({
    graph: g, 
    renderer: {
      container: 'graph-container',
      type: sigma.renderers.canvas,
    },
    settings: {
      hideEdgesOnMove: true,
      maxNodeSize: 10,
      minNodeSize: 0.00001,
      autoRescale: false,
    },
  });

});
</script>